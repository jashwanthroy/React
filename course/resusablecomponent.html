<script src="babel.min.js"></script>
<script src="react.development.js"></script>
<script src="react-dom.development.js"></script>
<div id="root"></div>
<script type="text/babel">
    const App = () =>{
        const optionValues = ['A','B','C','D']
        const ansObj = {}
        const q = [
        {
            "que":"Who is the ceo of Google ?",
            "options":["sundar pichai","ratan tata","ambani"],
            "type":"S",
            "ans":"A"
        },
        {
            "que":"How to pass data from parent to child ?",
            "options":["attribute","children","callback","context"],
            "type":"M",
            "ans":"AB"
        },
        {
            "que":"Which library used to compile JSX ?",
            "options":["Babel","ReactDOM","above all"],
            "type":"S",
            "ans":"A"
        },
        ]
        const getResult = () =>{
            console.log(ansObj)
            alert("You got 0 marks")
        }
        const handleChange = (eve) =>{
            const {id,value,type,checked} = eve.target;
            if(type === 'checkbox'){
                const checkedval = ansObj[id] ? ansObj[id].split("") : []
                if(checked){
                    checkedval.push(value)
                }else{
                    const ind = checkedval.indexOf(value)
                    checkedval.splice(ind,1)
                }
                ansObj[id] = checkedval.sort().join("")
            }else{
                ansObj[id] = value;
            }
        }
        return <div>
            {
                q.map((ele,ind,oa)=>{
                    return <div>
                        <h3>{ind + 1}.{ele.que}</h3>
                        {
                            ele.options.map((val,index) => {
                                return <p><input name={ind} value={optionValues[index]} onChange={handleChange} type={ele.type === "S" ? "radio" : "checkbox"}/>{val}</p>
                            })
                        }
                    </div>
                })
            }
            <button style={{"backgroundColor":"lightblue"}} onClick={getResult}>Submit</button>
            </div>
    }
    const rootRef = ReactDOM.createRoot(document.getElementById("root"));
    rootRef.render(<App />)
</script>